(window.webpackJsonp=window.webpackJsonp||[]).push([[368],{"./blocks/site/placeholder.jsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var n=s("../node_modules/@babel/runtime/helpers/classCallCheck.js"),a=s.n(n),o=s("../node_modules/@babel/runtime/helpers/createClass.js"),i=s.n(o),r=s("../node_modules/@babel/runtime/helpers/inherits.js"),c=s.n(r),l=s("../node_modules/@babel/runtime/helpers/createSuper.js"),u=s.n(l),d=s("../node_modules/@babel/runtime/helpers/defineProperty.js"),p=s.n(d),m=s("../node_modules/react/index.js"),h=s.n(m),b=s("../node_modules/debug/src/browser.js"),y=s.n(b)()("calypso:my-sites:site"),f=function(e){c()(s,e);var t=u()(s);function s(){return a()(this,s),t.apply(this,arguments)}return i()(s,[{key:"componentDidMount",value:function(){y("The Site component is mounted.")}},{key:"render",value:function(){return h.a.createElement("div",{className:"site is-loading"},h.a.createElement("div",{className:"site__content"},h.a.createElement("div",{className:"site-icon"}),h.a.createElement("div",{className:"site__info"},h.a.createElement("div",{className:"site__title"},"This is an example"),h.a.createElement("div",{className:"site__domain"},"example.wordpress.com"))))}}]),s}(h.a.Component);p()(f,"displayName","SitePlaceholder")},"./blocks/visit-site/index.jsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s("../node_modules/@babel/runtime/helpers/slicedToArray.js"),a=s.n(n),o=s("../node_modules/react/index.js"),i=s.n(o),r=s("../packages/i18n-calypso/dist/esm/index.js"),c=s("./lib/wp/browser.js");s("./blocks/visit-site/style.scss");function l(e){var t=e.siteSlug,s=Object(r.h)(),n=function(e){var t=Object(o.useState)(null),s=a()(t,2),n=s[0],i=s[1];return Object(o.useEffect)((function(){c.a.site(e).get({apiVersion:"1.2"}).then(i)}),[e]),n}(t);if(!n)return null;var l=i.a.createElement("a",{href:n.URL},n.name.trim());return i.a.createElement("div",{className:"visit-site"},s("or visit {{siteLink/}}",{components:{siteLink:l},context:"Alternative link under login/site-selection header, leads to site frontend."}))}},"./blocks/visit-site/style.scss":function(e,t,s){},"./components/close-on-escape/index.jsx":function(e,t,s){"use strict";var n=s("../node_modules/@babel/runtime/helpers/classCallCheck.js"),a=s.n(n),o=s("../node_modules/@babel/runtime/helpers/createClass.js"),i=s.n(o),r=s("../node_modules/@babel/runtime/helpers/inherits.js"),c=s.n(r),l=s("../node_modules/@babel/runtime/helpers/createSuper.js"),u=s.n(l),d=s("../node_modules/lodash-es/isEmpty.js"),p=s("../node_modules/lodash-es/last.js"),m=s("../node_modules/lodash-es/includes.js"),h=s("../node_modules/lodash-es/filter.js"),b=s("../node_modules/lodash-es/noop.js"),y=s("../node_modules/prop-types/index.js"),f=s.n(y),j=s("../node_modules/react/index.js"),g=[];function v(e){var t;Object(d.a)(g)||27!==e.keyCode||(t=e.target,Object(m.a)(["INPUT","TEXTAREA"],t.nodeName))||Object(p.a)(g).onEscape()}function _(e,t){g.push({component:e,onEscape:t}),Object(d.a)(g)||document.addEventListener("keydown",v,!0)}function O(e){g=Object(h.a)(g,(function(t){return t.component!==e})),Object(d.a)(g)&&document.removeEventListener("keydown",v,!0)}var k=function(e){c()(s,e);var t=u()(s);function s(){return a()(this,s),t.apply(this,arguments)}return i()(s,[{key:"componentDidMount",value:function(){_(this,this.props.onEscape)}},{key:"componentWillUnmount",value:function(){O(this,this.props.onEscape)}},{key:"render",value:function(){return null}}]),s}(j.Component);k.propTypes={onEscape:f.a.func},k.defaultProps={onEscape:b.a},t.a=k},"./components/empty-content/no-sites-message/index.jsx":function(e,t,s){"use strict";var n=s("../node_modules/react/index.js"),a=s.n(n),o=s("../packages/i18n-calypso/dist/esm/index.js"),i=s("./config/index.js"),r=s("./components/empty-content/index.jsx");t.a=Object(o.c)((function(e){var t=e.translate;return a.a.createElement(r.a,{title:t("You don't have any WordPress sites yet."),line:t("Would you like to start one?"),action:t("Create Site"),actionURL:Object(i.a)("signup_url")+"?ref=calypso-nosites",illustration:"/calypso/images/illustrations/illustration-nosites.svg"})}))},"./components/main/index.jsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("../node_modules/react/index.js"),a=s.n(n),o=s("../node_modules/classnames/index.js"),i=s.n(o);s("./components/main/style.scss");function r(e){var t=e.className,s=e.children,n=e.wideLayout,o=void 0!==n&&n,r=i()(t,"main",{"is-wide-layout":o});return a.a.createElement("main",{className:r,role:"main"},s)}},"./components/main/style.scss":function(e,t,s){},"./components/search/index.jsx":function(e,t,s){"use strict";var n=s("../node_modules/@babel/runtime/helpers/extends.js"),a=s.n(n),o=s("../node_modules/@babel/runtime/helpers/classCallCheck.js"),i=s.n(o),r=s("../node_modules/@babel/runtime/helpers/createClass.js"),c=s.n(r),l=s("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),u=s.n(l),d=s("../node_modules/@babel/runtime/helpers/inherits.js"),p=s.n(d),m=s("../node_modules/@babel/runtime/helpers/createSuper.js"),h=s.n(m),b=s("../node_modules/@babel/runtime/helpers/defineProperty.js"),y=s.n(b),f=s("../packages/viewport/dist/esm/index.js"),j=s("../node_modules/react/index.js"),g=s.n(j),v=s("../node_modules/prop-types/index.js"),_=s.n(v),O=s("../node_modules/classnames/index.js"),k=s.n(O),S=s("../node_modules/lodash-es/uniqueId.js"),x=s("../node_modules/lodash-es/debounce.js"),w=s("../node_modules/lodash-es/noop.js"),C=s("../packages/i18n-calypso/dist/esm/index.js"),E=s("./components/gridicon/index.tsx"),I=s("./components/spinner/index.jsx"),P=s("./components/translatable/proptype.js"),N=s("./lib/analytics/ga.js");s("./components/search/style.scss");function L(e,t){switch(t.key){case" ":case"Enter":this[e](t)}}var T=function(e){p()(s,e);var t=h()(s);function s(e){var n;return i()(this,s),n=t.call(this,e),y()(u()(n),"setOpenIconRef",(function(e){return n.openIcon=e})),y()(u()(n),"setSearchInputRef",(function(e){return n.searchInput=e})),y()(u()(n),"setOverlayRef",(function(e){return n.overlay=e})),y()(u()(n),"scrollOverlay",(function(){n.overlay&&window.requestAnimationFrame((function(){n.overlay&&n.searchInput&&(n.overlay.scrollLeft=n.getScrollLeft(n.searchInput))}))})),y()(u()(n),"getScrollLeft",(function(e){if(!e.createTextRange)return e.scrollLeft;var t=e.createTextRange(),s=window.getComputedStyle(e,void 0),n=parseFloat(s.paddingLeft),a=t.getBoundingClientRect();return e.getBoundingClientRect().left+e.clientLeft+n-a.left})),y()(u()(n),"focus",(function(){setTimeout((function(){return n.searchInput&&n.searchInput.focus()}),0)})),y()(u()(n),"blur",(function(){return n.searchInput.blur()})),y()(u()(n),"clear",(function(){return n.setState({keyword:""})})),y()(u()(n),"onBlur",(function(e){n.props.onBlur&&n.props.onBlur(e),n.setState({hasFocus:!1})})),y()(u()(n),"onChange",(function(e){n.setState({keyword:e.target.value})})),y()(u()(n),"openSearch",(function(e){e.preventDefault(),n.setState({keyword:"",isOpen:!0}),Object(N.a)(n.props.analyticsGroup,"Clicked Open Search")})),y()(u()(n),"closeSearch",(function(e){e.preventDefault(),n.props.disabled||(n.setState({keyword:"",isOpen:n.props.isOpen||!1}),n.searchInput.value="",n.props.pinned?(n.searchInput.blur(),n.openIcon.focus()):n.searchInput.focus(),n.props.onSearchClose(e),Object(N.a)(n.props.analyticsGroup,"Clicked Close Search"))})),y()(u()(n),"keyUp",(function(e){"Enter"===e.key&&Object(f.e)()&&n.blur(),n.props.pinned&&("Escape"===e.key&&n.closeSearch(e),n.scrollOverlay())})),y()(u()(n),"keyDown",(function(e){n.scrollOverlay(),"Escape"===e.key&&""===e.target.value&&n.closeSearch(e),n.props.onKeyDown(e)})),y()(u()(n),"onFocus",(function(){if(n.searchInput){var e=n.searchInput.value;e&&(n.searchInput.value="",n.searchInput.value=e),n.setState({hasFocus:!0}),n.props.onSearchOpen()}})),n.instanceId=Object(S.a)(),n.state={keyword:e.initialValue||"",isOpen:!!e.isOpen,hasFocus:e.autoFocus},n.closeListener=L.bind(u()(n),"closeSearch"),n.openListener=L.bind(u()(n),"openSearch"),n}return c()(s,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.onSearch===this.props.onSearch&&e.delaySearch===this.props.delaySearch||(this.onSearch=this.props.delaySearch?Object(x.a)(this.props.onSearch,this.props.delayTimeout):this.props.onSearch),this.props.isOpen!==e.isOpen&&this.setState({isOpen:e.isOpen}),this.props.value===e.value||!e.value&&""!==e.value||e.value===this.state.keyword||this.setState({keyword:e.value})}},{key:"componentDidUpdate",value:function(e,t){this.scrollOverlay(),(this.state.isOpen&&!t.isOpen||this.props.autoFocus&&!e.autoFocus)&&this.focus(),this.state.keyword!==t.keyword&&(this.state.keyword?this.onSearch(this.state.keyword):(this.props.delaySearch&&this.onSearch.cancel(),this.props.onSearch(this.state.keyword)),this.props.onSearchChange(this.state.keyword))}},{key:"componentDidMount",value:function(){this.onSearch=this.props.delaySearch?Object(x.a)(this.props.onSearch,this.props.delayTimeout):this.props.onSearch}},{key:"render",value:function(){var e=this.state.keyword,t=this.props.placeholder||C.a.translate("Searchâ€¦",{textOnly:!0}),s=this.props.inputLabel,n=this.props.pinned&&!this.state.isOpen,o=this.state.isOpen||!this.props.pinned||this.props.initialValue,i=this.props.disableAutocorrect&&{autoComplete:"off",autoCorrect:"off",spellCheck:"false"},r=k()(this.props.additionalClasses,this.props.dir,{"is-expanded-to-container":this.props.fitsContainer,"is-open":o,"is-searching":this.props.searching,"is-compact":this.props.compact,"has-focus":this.state.hasFocus,"has-open-icon":!this.props.hideOpenIcon,search:!0}),c=k()("search__input-fade",this.props.dir),l=k()("search__input",this.props.dir);return g.a.createElement("div",{dir:this.props.dir||null,className:r,role:"search"},g.a.createElement(I.a,null),g.a.createElement("div",{role:"button",className:"search__icon-navigation",ref:this.setOpenIconRef,onClick:n?this.openSearch:this.focus,tabIndex:n?"0":null,onKeyDown:n?this.openListener:null,"aria-controls":"search-component-"+this.instanceId,"aria-label":C.a.translate("Open Search",{context:"button label"})},!this.props.hideOpenIcon&&g.a.createElement(E.a,{icon:"search",className:"search__open-icon"})),g.a.createElement("div",{className:c},g.a.createElement("input",a()({type:"search",id:"search-component-"+this.instanceId,autoFocus:this.props.autoFocus,"aria-describedby":this.props.describedBy,"aria-label":s||C.a.translate("Search"),"aria-hidden":!o,className:l,placeholder:t,role:"searchbox",value:e,ref:this.setSearchInputRef,onChange:this.onChange,onKeyUp:this.keyUp,onKeyDown:this.keyDown,onMouseUp:this.props.onClick,onFocus:this.onFocus,onBlur:this.onBlur,disabled:this.props.disabled,autoCapitalize:"none",dir:this.props.dir,maxLength:this.props.maxLength,minLength:this.props.minLength},i)),this.props.overlayStyling&&this.renderStylingDiv()),this.closeButton())}},{key:"renderStylingDiv",value:function(){return g.a.createElement("div",{className:"search__text-overlay",ref:this.setOverlayRef},this.props.overlayStyling(this.state.keyword))}},{key:"closeButton",value:function(){return this.props.hideClose||!this.state.keyword&&!this.state.isOpen?null:g.a.createElement("div",{role:"button",className:"search__icon-navigation",onClick:this.closeSearch,tabIndex:"0",onKeyDown:this.closeListener,"aria-controls":"search-component-"+this.instanceId,"aria-label":C.a.translate("Close Search",{context:"button label"})},g.a.createElement(E.a,{icon:"cross",className:"search__close-icon"}))}}]),s}(j.Component);y()(T,"propTypes",{additionalClasses:_.a.string,initialValue:_.a.string,value:_.a.string,placeholder:P.a,pinned:_.a.bool,delaySearch:_.a.bool,delayTimeout:_.a.number,describedBy:_.a.string,onSearch:_.a.func.isRequired,onSearchChange:_.a.func,onSearchOpen:_.a.func,onSearchClose:_.a.func,analyticsGroup:_.a.string,overlayStyling:_.a.func,autoFocus:_.a.bool,disabled:_.a.bool,onKeyDown:_.a.func,onClick:_.a.func,disableAutocorrect:_.a.bool,onBlur:_.a.func,searching:_.a.bool,isOpen:_.a.bool,dir:_.a.oneOf(["ltr","rtl"]),fitsContainer:_.a.bool,maxLength:_.a.number,minLength:_.a.number,hideClose:_.a.bool,compact:_.a.bool,hideOpenIcon:_.a.bool,inputLabel:_.a.string}),y()(T,"defaultProps",{pinned:!1,delaySearch:!1,delayTimeout:300,autoFocus:!1,disabled:!1,describedBy:null,onSearchChange:w.a,onSearchOpen:w.a,onSearchClose:w.a,onKeyDown:w.a,onClick:w.a,overlayStyling:void 0,disableAutocorrect:!1,searching:!1,isOpen:!1,dir:void 0,fitsContainer:!1,hideClose:!1,compact:!1,hideOpenIcon:!1}),t.a=T},"./components/search/style.scss":function(e,t,s){},"./components/spinner/index.jsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return g}));var n=s("../node_modules/@babel/runtime/helpers/classCallCheck.js"),a=s.n(n),o=s("../node_modules/@babel/runtime/helpers/createClass.js"),i=s.n(o),r=s("../node_modules/@babel/runtime/helpers/inherits.js"),c=s.n(r),l=s("../node_modules/@babel/runtime/helpers/createSuper.js"),u=s.n(l),d=s("../node_modules/@babel/runtime/helpers/defineProperty.js"),p=s.n(d),m=s("../node_modules/prop-types/index.js"),h=s.n(m),b=s("../node_modules/react/index.js"),y=s.n(b),f=s("../node_modules/classnames/index.js"),j=s.n(f),g=(s("./components/spinner/style.scss"),function(e){c()(s,e);var t=u()(s);function s(){return a()(this,s),t.apply(this,arguments)}return i()(s,[{key:"render",value:function(){var e=j()("spinner",this.props.className),t={width:this.props.size,height:this.props.size,fontSize:this.props.size};return y.a.createElement("div",{className:e},y.a.createElement("div",{className:"spinner__outer",style:t},y.a.createElement("div",{className:"spinner__inner"})))}}]),s}(b.PureComponent));p()(g,"propTypes",{className:h.a.string,size:h.a.number}),p()(g,"defaultProps",{size:20})},"./components/spinner/style.scss":function(e,t,s){},"./lib/gsuite/has-gsuite-with-us.js":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s("../node_modules/lodash-es/get.js"),a=s("../node_modules/lodash-es/includes.js");function o(e){var t=Object(n.a)(e,"googleAppsSubscription.status","");return!Object(a.a)(["","no_subscription","other_provider"],t)}},"./my-sites/controller.js":function(e,t,s){"use strict";s.d(t,"c",(function(){return Fe})),s.d(t,"e",(function(){return De})),s.d(t,"a",(function(){return Re})),s.d(t,"b",(function(){return Ae})),s.d(t,"f",(function(){return Be})),s.d(t,"d",(function(){return qe}));var n=s("../node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=s.n(n),o=s("../node_modules/page/page.js"),i=s.n(o),r=s("../node_modules/react/index.js"),c=s.n(r),l=s("../packages/i18n-calypso/dist/esm/index.js"),u=s("../node_modules/lodash-es/noop.js"),d=s("../node_modules/lodash-es/some.js"),p=s("../node_modules/lodash-es/startsWith.js"),m=s("../node_modules/lodash-es/get.js"),h=s("../node_modules/lodash-es/uniq.js"),b=s("./state/sites/actions.js"),y=s("./state/sites/selectors/get-site-admin-url.js"),f=s("./state/sites/selectors/get-site.js"),j=s("./state/sites/selectors/get-site-slug.js"),g=s("./state/sites/selectors/is-jetpack-site.js"),v=s("./state/sites/selectors/is-jetpack-module-active.js"),_=s("./state/ui/selectors/get-selected-site.js"),O=s("./state/ui/selectors/get-selected-site-id.js"),k=s("./state/ui/section/actions.js"),S=s("./state/ui/actions/set-sites.js"),x=s("./state/preferences/actions.js"),w=s("./state/preferences/selectors.js"),C=s("../node_modules/@babel/runtime/helpers/extends.js"),E=s.n(C),I=s("../node_modules/@babel/runtime/helpers/classCallCheck.js"),P=s.n(I),N=s("../node_modules/@babel/runtime/helpers/createClass.js"),L=s.n(N),T=s("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),F=s.n(T),D=s("../node_modules/@babel/runtime/helpers/inherits.js"),R=s.n(D),A=s("../node_modules/@babel/runtime/helpers/createSuper.js"),B=s.n(A),q=s("../node_modules/@babel/runtime/helpers/defineProperty.js"),U=s.n(q),z=s("./config/index.js"),H=s("../node_modules/prop-types/index.js"),M=s.n(H),W=s("../node_modules/react-click-outside/dist/index.js"),K=s.n(W),V=s("../node_modules/react-redux/es/index.js"),Y=s("./components/close-on-escape/index.jsx"),G=s("./components/site-selector/index.jsx"),J=s("./lib/touch-detect/index.js"),X=s("./state/ui/layout-focus/selectors.js"),$=s("./state/ui/layout-focus/actions.js"),Q=function(e){R()(s,e);var t=B()(s);function s(){var e;P()(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),U()(F()(e),"state",{isAutoFocused:!1,isRendered:"sites"===e.props.currentLayoutFocus}),U()(F()(e),"onClose",(function(t,s){"Escape"===t.key?e.closePicker():(e.props.setNextLayoutFocus("sidebar"),s&&e.scrollToTop()),e.props.onClose(t,s)})),U()(F()(e),"scrollToTop",(function(){document.getElementById("secondary").scrollTop=0,window.scrollTo(0,0)})),U()(F()(e),"closePicker",(function(t){"sites"===e.props.currentLayoutFocus&&(e.props.setLayoutFocus("sidebar"),t&&e.scrollToTop())})),U()(F()(e),"handleClickOutside",(function(){e.closePicker(null)})),e}return L()(s,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if("sites"!==e.currentLayoutFocus||this.state.isRendered||this.setState({isRendered:!0}),e.currentLayoutFocus&&!Object(J.a)()){var t="sites"===e.currentLayoutFocus;t!==this.state.isAutoFocused&&this.setState({isAutoFocused:t})}}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(Y.a,{onEscape:this.closePicker}),c.a.createElement(G.a,{isPlaceholder:!this.state.isRendered,indicator:!0,showAddNewSite:!0,showAllSites:!0,allSitesPath:this.props.allSitesPath,siteBasePath:this.props.siteBasePath,autoFocus:this.state.isAutoFocused,onClose:this.onClose,groups:!0}))}}]),s}(c.a.Component);U()(Q,"displayName","SitePicker"),U()(Q,"propTypes",{onClose:M.a.func,currentLayoutFocus:M.a.string,setNextLayoutFocus:M.a.func.isRequired,setLayoutFocus:M.a.func.isRequired}),U()(Q,"defaultProps",{onClose:u.a});var Z=Object(V.c)((function(e){return{currentLayoutFocus:Object(X.a)(e)}}),{setNextLayoutFocus:$.c,setLayoutFocus:$.b})(K()(Q)),ee=s("./components/async-load/index.jsx"),te=function(e){Promise.all([s.e(437),s.e(219)]).then(s.bind(null,"./components/jetpack/sidebar/index.jsx")).then((function(t){e(t.default)}))},se=function(e){Promise.all([s.e(156),s.e(452),s.e(495),s.e(462),s.e(372),s.e(437),s.e(322)]).then(s.bind(null,"./my-sites/sidebar/index.jsx")).then((function(t){e(t.default)}))},ne=function(e){R()(s,e);var t=B()(s);function s(){var e;P()(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),U()(F()(e),"preventPickerDefault",(function(e){e.preventDefault(),e.stopPropagation()})),e}return L()(s,[{key:"render",value:function(){var e={placeholder:null,path:this.props.path,siteBasePath:this.props.siteBasePath},t=z.a.isEnabled("jetpack-cloud")?c.a.createElement(ee.a,E()({require:te},e)):c.a.createElement(ee.a,E()({require:se},e));return c.a.createElement("div",null,c.a.createElement(Z,{allSitesPath:this.props.allSitesPath,siteBasePath:this.props.siteBasePath,onClose:this.preventPickerDefault}),t)}}]),s}(c.a.Component);U()(ne,"displayName","MySitesNavigation");var ae=ne,oe=s("./lib/route/path.ts"),ie=s("./lib/url/add-query-args.ts"),re=s("./notices/index.js"),ce=s("./lib/analytics/page-view.js"),le=s("./lib/analytics/tracks.js"),ue=s("./state/selectors/get-primary-domain-by-site-id.js"),de=s("./state/selectors/get-primary-site-id.js"),pe=s("./state/selectors/get-site-id.js"),me=s("./state/current-user/selectors.js"),he=s("./state/selectors/is-domain-only-site.js"),be=s("./state/selectors/is-site-automated-transfer.js"),ye=s("./state/selectors/is-site-migration-in-progress.js"),fe=s("./state/selectors/can-current-user.js"),je=s("./my-sites/domains/paths.js"),ge=s("./my-sites/email/paths.js"),ve=s("../packages/components/dist/esm/card/index.js"),_e=s("./components/main/index.jsx"),Oe=s("./blocks/visit-site/index.jsx"),ke=(s("./my-sites/sites/style.scss"),function(e){R()(s,e);var t=B()(s);function s(){var e;P()(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),U()(F()(e),"filterSites",(function(t){var s=e.props.siteBasePath;return/^\/domains/.test(s)?!t.jetpack||t.options.is_automated_transfer:/^\/plans/.test(s)?!t.jetpack||t.isSiteUpgradeable:/^\/block-editor/.test(s)?!t.is_vip:/^\/hosting-config/.test(s)?!!t.capabilities.view_hosting:/^\/home/.test(s)?!(t.is_vip||t.jetpack&&!t.options.is_automated_transfer):t})),e}return L()(s,[{key:"getHeaderText",value:function(){if(this.props.getSiteSelectionHeaderText)return this.props.getSiteSelectionHeaderText();var e=this.props.siteBasePath.split("?")[0].split("/")[1];void 0!==e&&(e=e.toLowerCase());var t=this.props.translate;if(["page","post","edit","block-editor"].includes(e))return t("Select a site to start writing");switch(e){case"activity-log":e=t("Activity");break;case"stats":e=t("Insights");break;case"plans":e=t("Plans");break;case"media":e=t("Media");break;case"sharing":e=t("Sharing");break;case"people":e=t("People");break;case"domains":e=t("Domains");break;case"settings":e=t("Settings");break;case"home":e=t("My Home");break;case"hosting-config":e=t("Hosting Configuration")}return t("Select a site to open {{strong}}%(path)s{{/strong}}",{args:{path:e},components:{strong:c.a.createElement("strong",null)}})}},{key:"render",value:function(){return c.a.createElement(_e.a,{className:"sites"},c.a.createElement("div",{className:"sites__select-header"},c.a.createElement("h2",{className:"sites__select-heading"},this.getHeaderText()),this.props.fromSite&&c.a.createElement(Oe.a,{siteSlug:this.props.fromSite})),c.a.createElement(ve.a,{className:"sites__select-wrapper"},c.a.createElement(G.a,{filter:this.filterSites,siteBasePath:this.props.siteBasePath,groups:!0})))}}]),s}(r.Component));U()(ke,"propTypes",{siteBasePath:M.a.string.isRequired});var Se=Object(l.c)(ke),xe=s("./state/notices/actions.js"),we=s("./controller/index.web.js"),Ce=s("./components/empty-content/no-sites-message/index.jsx"),Ee=s("./components/empty-content/index.jsx"),Ie=s("./my-sites/domains/domain-management/list/domain-only.jsx"),Pe=function(e){return{getState:function(){return e.store.getState()},dispatch:function(t){return e.store.dispatch(t)}}};function Ne(e){var t=Object(oe.d)(e.pathname),s=e.pathname;return t&&(s=Object(oe.h)(e.pathname)),c.a.createElement(ae,{path:e.path,allSitesPath:s,siteBasePath:s})}function Le(e){e.store.dispatch(Object(k.b)({group:"sites",secondary:!1}))}function Te(e,t){var s=e.store.getState(),n=Object(_.a)(s),o=Object(be.a)(s,n.ID),r=Object(fe.b)(s,n.ID,"manage_options"),l=o&&z.a.isEnabled("calypsoify/plugins");if(Object(ye.a)(s,n.ID)&&!Object(p.a)(e.pathname,"/migrate/"))return i.a.redirect("/migrate/".concat(n.slug)),!1;if(r&&l&&/^\/plugins/.test(t)){var b=Object(m.a)(e,"params.plugin"),j="";b&&(j=["tab=search","s=".concat(b),"type=term","modal-mode=true","plugin=".concat(b)].join("&"));var g="plugin-install.php?calypsoify=1"+"&".concat(j),v=Object(y.a)(s,n.ID)+g;return window.location.replace(v),!1}var O=Object(ue.a)(s,n.ID);if(Object(he.a)(s,n.ID)&&!function(e,t,s,n){var a=[je.d,je.e,je.g,je.h,je.k,je.m,je.n,je.r,je.u,je.w,ge.a,ge.b,ge.f,ge.e],o=a.map((function(e){return e===ge.f?Object(ge.f)(t,t,n.planType):e(t,t)}));o=o.concat(a.map((function(e){return e(t,t,Object(je.o)())}))),s&&t!==s.name&&(o=o.concat(a.map((function(e){return e(t,s.name)}))));var i=["/checkout/","/me/purchases/".concat(t)];return!!Object(d.a)(i,(function(t){return Object(p.a)(e,t)}))||o.indexOf(e)>-1}(e.pathname,n.slug,O,e.params))return function(e,t){e.primary=c.a.createElement(Ie.a,{siteId:t.ID,hasNotice:!1}),e.secondary=Ne(e),Object(we.c)(e,u.a),Object(we.f)(e)}(e,n),!1;if(Object(w.c)(s)){var k=Object(w.b)(s,"recentSites");if(n.ID!==k[0]){var S=Object(h.a)([n.ID].concat(a()(k))).slice(0,5).filter((function(e){return!!Object(f.a)(s,e)}));e.store.dispatch(Object(x.b)("recentSites",S))}}return!0}function Fe(e,t){var s=Pe(e).getState,n=Object(me.b)(s());if(!(n&&n.visible_site_count>=1))return e.store.dispatch(Object(S.b)(null)),t();De(e,t)}function De(e,t){var s=Pe(e),n=s.getState,a=s.dispatch,o=e.params.site||Object(oe.d)(e.path),r=Object(oe.h)(e.path,o),d=Object(me.b)(n()),p=d&&1===d.visible_site_count;if(d&&0===d.site_count)return function(e){Le(e),e.primary=c.a.createElement(Ce.a),Object(we.c)(e,u.a),Object(we.f)(e)}(e),Object(ce.a)("/no-sites","Sites > No Sites",{base_path:r});if(d&&0===d.visible_site_count)return function(e){var t=Pe(e).getState,s=Object(me.b)(t()),n=s&&s.site_count-s.visible_site_count,a=Object(z.a)("signup_url");Le(e),e.primary=c.a.createElement(Ee.a,{title:l.a.translate("You have %(hidden)d hidden WordPress site.","You have %(hidden)d hidden WordPress sites.",{count:n,args:{hidden:n}}),line:l.a.translate("To manage it here, set it to visible.","To manage them here, set them to visible.",{count:n}),action:l.a.translate("Change Visibility"),actionURL:"//dashboard.wordpress.com/wp-admin/index.php?page=my-blogs",secondaryAction:l.a.translate("Create New Site"),secondaryActionURL:"".concat(a,"?ref=calypso-nosites")}),Object(we.c)(e,u.a),Object(we.f)(e)}(e),Object(ce.a)("/no-sites","".concat("Sites"," > All Sites Hidden"),{base_path:r});if(!p||o){if(!o)return a(Object(S.a)()),t();var m=Object(pe.a)(n(),o);m?(a(Object(S.b)(m)),Te(e,r)&&t()):a(Object(b.e)(o)).then((function(){var s=Object(pe.a)(n(),o);if(!s){var c=o.replace(/\b.wordpress.com/,".wpcomstaging.com");s=Object(pe.a)(n(),c)}if(s)a(Object(S.b)(s)),Te(e,r)&&t();else{var l=Object(ie.a)({site:o},Object(oe.h)(e.path,o));i.a.redirect(l)}}))}else{var h=Object(de.a)(n()),y=function(t){var s=e.pathname.split("/no-site")[0].replace(/\/?$/,"/"),n="".concat(s).concat(t);e.querystring&&(n+="?".concat(e.querystring)),i.a.redirect(n)},f=Object(j.a)(n(),h);f?y(f):a(Object(b.e)(h)).then((function(){var e=Object(j.a)(n(),h);e?y(e):function(e,t){var s={username:e.username,primary_blog:e.primary_blog,primary_blog_url:e.primary_blog_url,primary_blog_is_jetpack:e.primary_blog_is_jetpack};e.primary_blog_is_jetpack?(t(Object(xe.g)(l.a.translate("Please check your Primary Site's Jetpack connection"),{button:"wp-admin",href:"".concat(e.primary_blog_url,"/wp-admin")})),Object(le.recordTracksEvent)("calypso_mysites_single_site_jetpack_connection_error",s)):Object(le.recordTracksEvent)("calypso_mysites_single_site_error",s)}(d,a)}))}}function Re(e,t){return function(s,n){var a=Pe(s).getState,o=Object(O.a)(a()),r=Object(g.a)(a(),o),c=Object(v.a)(a(),o,e);if(!r)return n();c||!1===t?n():i.a.redirect("string"==typeof t?t:"/stats")}}function Ae(e,t){e.secondary=Ne(e),t()}function Be(e,t){"1"===e.query.verified&&re.a.success(l.a.translate("Email verified! Now that you've confirmed your email address you can publish posts on your blog.")),e.store.dispatch(Object($.b)("content")),Le(e),e.primary=function(e){var t=Object(oe.h)(e.path),s=t.split("/no-site")[0];e.querystring&&(s="".concat(s,"?").concat(e.querystring));var n="/sites"===s?"/home":s;return Object(ce.a)(t,"Sites"),c.a.createElement(Se,{siteBasePath:n,getSiteSelectionHeaderText:e.getSiteSelectionHeaderText,fromSite:e.query.site})}(e),t()}function qe(e){return function(t,s){var n=t.store.getState();return Object(O.a)(n)?s():i.a.redirect(e)}}},"./my-sites/domains/domain-management/list/domain-only.jsx":function(e,t,s){"use strict";var n=s("../node_modules/react-redux/es/index.js"),a=s("../packages/i18n-calypso/dist/esm/index.js"),o=s("../node_modules/prop-types/index.js"),i=s.n(o),r=s("../node_modules/react/index.js"),c=s.n(r),l=s("../packages/components/dist/esm/button/index.js"),u=s("./components/empty-content/index.jsx"),d=s("./lib/gsuite/has-gsuite-with-us.js"),p=s("./components/data/query-site-domains/index.jsx"),m=s("./my-sites/domains/paths.js"),h=s("./my-sites/email/paths.js"),b=s("./state/selectors/get-primary-domain-by-site-id.js"),y=s("./state/sites/selectors/get-site-slug.js"),f=s("./state/analytics/actions/record.js"),j=(s("./my-sites/domains/domain-management/list/domain-only.scss"),function(e){var t=e.primaryDomain,s=e.hasNotice,n=e.recordTracks,a=e.siteId,o=e.slug,i=e.translate;if(!t)return c.a.createElement("div",null,c.a.createElement(p.a,{siteId:a}),c.a.createElement(u.a,{className:"domain-only-site__placeholder",illustration:"/calypso/images/drake/drake-browser.svg"}));var r=t.name,b=Object(d.a)(t);return c.a.createElement("div",null,c.a.createElement(u.a,{title:i("%(domainName)s is ready when you are.",{args:{domainName:r}}),line:i("Start a site now to unlock everything WordPress.com can offer."),action:i("Create site"),actionURL:"/start/site-selected/?siteSlug=".concat(encodeURIComponent(o),"&siteId=").concat(encodeURIComponent(a)),secondaryAction:i("Manage domain"),secondaryActionURL:Object(m.g)(o,r),illustration:"/calypso/images/drake/drake-browser.svg"},c.a.createElement(l.a,{className:"empty-content__action button",href:Object(h.a)(o,r),primary:!b,onClick:function(){n(b?"calypso_domain_only_gsuite_manage":"calypso_domain_only_gsuite_cta",{domain:r})}},i(b?"Manage email":"Add email"))),s&&c.a.createElement("div",{className:"domain-only-site__settings-notice"},i("Your domain should start working immediately, but may be unreliable during the first 30 minutes.")))});j.propTypes={primaryDomain:i.a.object,hasNotice:i.a.bool.isRequired,translate:i.a.func.isRequired,siteId:i.a.number.isRequired},t.a=Object(n.c)((function(e,t){return{slug:Object(y.a)(e,t.siteId),primaryDomain:Object(b.a)(e,t.siteId)}}),{recordTracks:f.e})(Object(a.c)(j))},"./my-sites/domains/domain-management/list/domain-only.scss":function(e,t,s){},"./my-sites/sites/style.scss":function(e,t,s){},"./state/selectors/get-primary-domain-by-site-id.js":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("./state/sites/domains/selectors.js");function a(e,t){var s=Object(n.c)(e,t);return 0===s.length?null:s.filter((function(e){return e.isPrimary}))[0]}},"./state/sites/selectors/is-jetpack-module-active.js":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s("../node_modules/lodash-es/includes.js"),a=s("./state/sites/selectors/get-site-option.js");function o(e,t,s){var o=Object(a.a)(e,t,"active_modules");return o?Object(n.a)(o,s):null}}}]);