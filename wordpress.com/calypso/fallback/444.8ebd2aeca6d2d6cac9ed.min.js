(window.webpackJsonp=window.webpackJsonp||[]).push([[444],{"./components/section-nav/index.jsx":function(e,t,n){"use strict";var s=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),i=n.n(a),r=n("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),l=n.n(r),c=n("../node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(c),d=n("../node_modules/@babel/runtime/helpers/createSuper.js"),u=n.n(d),h=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(h),b=n("../node_modules/react/index.js"),f=n.n(b),v=n("../node_modules/prop-types/index.js"),y=n.n(v),w=n("../node_modules/classnames/index.js"),_=n.n(w),g=n("../node_modules/lodash-es/includes.js"),k=n("./components/gridicon/index.tsx"),x=n("./my-sites/comments/comment-navigation/comment-navigation-tab.jsx"),j=n("./components/section-nav/tabs.jsx"),C=n("./components/section-nav/item.jsx"),S=n("./components/search/index.jsx"),E=(n("./components/section-nav/style.scss"),function(e){p()(n,e);var t=u()(n);function n(){var e;o()(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),m()(l()(e),"state",{mobileOpen:!1}),m()(l()(e),"closeMobilePanel",(function(){window.innerWidth<480&&e.state.mobileOpen&&e.setState({mobileOpen:!1})})),m()(l()(e),"toggleMobileOpenState",(function(){var t=!e.state.mobileOpen;e.setState({mobileOpen:t}),t&&e.props.onMobileNavPanelOpen()})),e}return i()(n,[{key:"UNSAFE_componentWillMount",value:function(){this.checkForSiblingControls(this.props.children)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.checkForSiblingControls(e.children),this.hasSiblingControls||this.closeMobilePanel()}},{key:"renderDropdown",value:function(){return this.props.allowDropdown?f.a.createElement("button",{className:"section-nav__mobile-header",onClick:this.toggleMobileOpenState},f.a.createElement("span",{className:"section-nav__mobile-header-text"},this.props.selectedText),f.a.createElement(k.a,{icon:"chevron-down",size:18})):null}},{key:"render",value:function(){var e,t=this.getChildren();return t?(e=_()("section-nav",this.props.className,{"is-open":this.state.mobileOpen,"has-pinned-items":this.hasPinnedSearch||this.props.hasPinnedItems}),f.a.createElement("div",{className:e},this.renderDropdown(),f.a.createElement("div",{className:"section-nav__panel"},t))):(e=_()("section-nav","is-empty",this.props.className),f.a.createElement("div",{className:e},f.a.createElement("div",{className:"section-nav__panel"},f.a.createElement(C.a,null))))}},{key:"getChildren",value:function(){var e=this;return f.a.Children.map(this.props.children,(function(t){var n={hasSiblingControls:e.hasSiblingControls,closeSectionNavMobilePanel:e.closeMobilePanel};return t?(t.type!==j.a||t.props.selectedText||"string"!=typeof e.props.selectedText||(n.selectedText=e.props.selectedText),t.type===j.a&&e.props.selectedCount&&(n.selectedCount=e.props.selectedCount),t.type===S.a&&(t.props.pinned&&(e.hasPinnedSearch=!0),n.onSearch=e.generateOnSearch(t.props.onSearch)),f.a.cloneElement(t,n)):null}))}},{key:"generateOnSearch",value:function(e){var t=this;return function(){e.apply(void 0,arguments),t.closeMobilePanel()}}},{key:"checkForSiblingControls",value:function(e){var t=this;this.hasSiblingControls=!1;var n=[S.a,x.a];f.a.Children.forEach(e,(function(e,s){s&&e&&!Object(g.a)(n,e.type)&&(t.hasSiblingControls=!0)}))}}]),n}(b.Component));m()(E,"propTypes",{selectedText:y.a.node,selectedCount:y.a.number,hasPinnedItems:y.a.bool,onMobileNavPanelOpen:y.a.func,className:y.a.string,allowDropdown:y.a.bool}),m()(E,"defaultProps",{onMobileNavPanelOpen:function(){},allowDropdown:!0}),t.a=E},"./components/section-nav/item.jsx":function(e,t,n){"use strict";var s=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),i=n.n(a),r=n("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),l=n.n(r),c=n("../node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(c),d=n("../node_modules/@babel/runtime/helpers/createSuper.js"),u=n.n(d),h=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(h),b=n("../node_modules/react/index.js"),f=n.n(b),v=n("../node_modules/prop-types/index.js"),y=n.n(v),w=n("../node_modules/classnames/index.js"),_=n.n(w),g=n("./components/gridicon/index.tsx"),k=n("./components/count/index.jsx"),x=n("./sections-helper.js"),j=(n("./components/section-nav/item.scss"),function(e){p()(n,e);var t=u()(n);function n(){var e;o()(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),m()(l()(e),"_preloaded",!1),m()(l()(e),"preload",(function(){!e._preloaded&&e.props.preloadSectionName&&(e._preloaded=!0,Object(x.c)(e.props.preloadSectionName))})),e}return i()(n,[{key:"render",value:function(){var e=this.props.itemType?this.props.itemType:"tab",t={"is-selected":this.props.selected,"is-external":this.props.isExternalLink};t["section-nav-"+e]=!0;var n,s,o=_()(this.props.className,t);return this.props.isExternalLink&&(n="_blank"),this.props.disabled||(s=this.props.onClick),f.a.createElement("li",{className:o},f.a.createElement("a",{href:this.props.path,target:n,className:"section-nav-"+e+"__link",onClick:s,onMouseEnter:this.preload,tabIndex:this.props.tabIndex||0,"aria-current":this.props.selected,disabled:this.props.disabled,role:"menuitem",rel:this.props.isExternalLink?"external":null,onKeyPress:this.props.onKeyPress},f.a.createElement("span",{className:"section-nav-"+e+"__text"},this.props.children,"number"==typeof this.props.count&&f.a.createElement(k.a,{count:this.props.count,compact:this.props.compactCount})),this.props.isExternalLink?f.a.createElement(g.a,{icon:"external",size:18}):null))}}]),n}(b.PureComponent));m()(j,"propTypes",{itemType:y.a.string,path:y.a.string,selected:y.a.bool,tabIndex:y.a.number,onClick:y.a.func,onKeyPress:y.a.func,isExternalLink:y.a.bool,disabled:y.a.bool,count:y.a.oneOfType([y.a.number,y.a.bool]),compactCount:y.a.bool,className:y.a.string,preloadSectionName:y.a.string}),t.a=j},"./components/section-nav/item.scss":function(e,t,n){},"./components/section-nav/style.scss":function(e,t,n){},"./components/section-nav/tabs.jsx":function(e,t,n){"use strict";var s=n("../node_modules/@babel/runtime/helpers/extends.js"),o=n.n(s),a=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(a),r=n("../node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(r),c=n("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),p=n.n(c),d=n("../node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(d),h=n("../node_modules/@babel/runtime/helpers/createSuper.js"),m=n.n(h),b=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),f=n.n(b),v=n("../packages/viewport/dist/esm/index.js"),y=n("../node_modules/react/index.js"),w=n.n(y),_=n("../node_modules/react-dom/index.js"),g=n.n(_),k=n("../node_modules/prop-types/index.js"),x=n.n(k),j=n("../node_modules/classnames/index.js"),C=n.n(j),S=n("../node_modules/lodash-es/debounce.js"),E=n("./components/select-dropdown/index.jsx"),D=n("./lib/after-layout-flush/index.ts"),O=n("./components/translatable/proptype.js"),N=(n("./components/section-nav/tabs.scss"),function(e){u()(n,e);var t=m()(n);function n(){var e;i()(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),f()(p()(e),"state",{isDropdown:!1}),f()(p()(e),"navGroupRef",w.a.createRef()),f()(p()(e),"tabRefMap",new Map),f()(p()(e),"setDropdown",(function(){if(window.innerWidth>480){if(!e.navGroupRef.current)return;var t=e.navGroupRef.current.offsetWidth;e.getTabWidths(),t<=e.tabsWidth&&!e.state.isDropdown?e.setState({isDropdown:!0}):t>e.tabsWidth&&e.state.isDropdown&&e.setState({isDropdown:!1})}else window.innerWidth<=480&&e.state.isDropdown&&e.setState({isDropdown:!1})})),f()(p()(e),"setDropdownDebounced",Object(S.a)(e.setDropdown,300)),f()(p()(e),"setDropdownAfterLayoutFlush",Object(D.a)(e.setDropdown)),f()(p()(e),"keyHandler",(function(e){switch(e.keyCode){case 32:case 13:e.preventDefault(),document.activeElement.click()}})),e}return l()(n,[{key:"componentDidMount",value:function(){this.setDropdownAfterLayoutFlush(),window.addEventListener("resize",this.setDropdownDebounced)}},{key:"componentDidUpdate",value:function(){this.setDropdownAfterLayoutFlush()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setDropdownDebounced),this.setDropdownDebounced.cancel(),this.setDropdownAfterLayoutFlush.cancel()}},{key:"storeTabRefs",value:function(e){var t=this;return function(n){null===n?t.tabRefMap.delete(e):t.tabRefMap.set(e,n)}}},{key:"render",value:function(){var e=this,t=w.a.Children.map(this.props.children,(function(t,n){return t&&w.a.cloneElement(t,{ref:e.storeTabRefs(n)})})),n=C()("section-nav-tabs",{"is-dropdown":this.state.isDropdown,"is-open":this.state.isDropdownOpen,"has-siblings":this.props.hasSiblingControls}),s=Object(v.c)();return w.a.createElement("div",{className:"section-nav-group",ref:this.navGroupRef},w.a.createElement("div",{className:n},this.props.label&&w.a.createElement("h6",{className:"section-nav-group__label"},this.props.label),w.a.createElement("ul",{className:"section-nav-tabs__list",role:"menu",onKeyDown:this.keyHandler},t),this.state.isDropdown&&s>480&&this.getDropdown()))}},{key:"getTabWidths",value:function(){var e=0;this.tabRefMap.forEach((function(t){var n=g.a.findDOMNode(t).offsetWidth;e+=n})),this.tabsWidth=Math.max(e,this.tabsWidth||0)}},{key:"getDropdown",value:function(){var e=w.a.Children.map(this.props.children,(function(e,t){return e?w.a.createElement(E.a.Item,o()({},e.props,{key:"navTabsDropdown-"+t}),e.props.children):null}));return w.a.createElement(E.a,{className:"section-nav-tabs__dropdown",selectedText:this.props.selectedText,selectedCount:this.props.selectedCount},e)}}]),n}(y.Component));f()(N,"propTypes",{selectedText:O.a,selectedCount:x.a.number,label:x.a.string,hasSiblingControls:x.a.bool}),f()(N,"defaultProps",{hasSiblingControls:!1}),t.a=N},"./components/section-nav/tabs.scss":function(e,t,n){},"./components/select-dropdown/index.jsx":function(e,t,n){"use strict";var s=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),i=n.n(a),r=n("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),l=n.n(r),c=n("../node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(c),d=n("../node_modules/@babel/runtime/helpers/createSuper.js"),u=n.n(d),h=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(h),b=n("../node_modules/prop-types/index.js"),f=n.n(b),v=n("../node_modules/react/index.js"),y=n.n(v),w=n("../node_modules/lodash-es/get.js"),_=n("../node_modules/lodash-es/find.js"),g=n("../node_modules/lodash-es/filter.js"),k=n("../node_modules/lodash-es/noop.js"),x=n("../node_modules/classnames/index.js"),j=n.n(x),C=n("./components/gridicon/index.tsx"),S=n("./components/count/index.jsx"),E=n("./components/translatable/proptype.js"),D=function(e){p()(n,e);var t=u()(n);function n(){var e;o()(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),m()(l()(e),"linkRef",y.a.createRef()),e}return i()(n,[{key:"focusLink",value:function(){this.linkRef.current.focus()}},{key:"render",value:function(){var e=j()("select-dropdown__item",this.props.className,{"is-selected":this.props.selected,"is-disabled":this.props.disabled,"has-icon":this.props.icon});return y.a.createElement("li",{className:"select-dropdown__option"},y.a.createElement("a",{ref:this.linkRef,href:this.props.path,className:e,onClick:this.props.disabled?null:this.props.onClick,"data-bold-text":this.props.value||this.props.children,role:"menuitem",tabIndex:"0","aria-current":this.props.selected,"data-e2e-title":this.props.e2eTitle},y.a.createElement("span",{className:"select-dropdown__item-text"},this.props.icon&&this.props.icon.type===C.a?this.props.icon:null,this.props.children),"number"==typeof this.props.count&&y.a.createElement("span",{"data-text":this.props.count,className:"select-dropdown__item-count"},y.a.createElement(S.a,{count:this.props.count,compact:this.props.compactCount}))))}}]),n}(v.Component);m()(D,"propTypes",{children:E.a.isRequired,compactCount:f.a.bool,path:f.a.string,selected:f.a.bool,onClick:f.a.func,count:f.a.number,disabled:f.a.bool,icon:f.a.element}),m()(D,"defaultProps",{selected:!1});var O=D,N=function(e){return e.stopPropagation()};function I(){return y.a.createElement("li",{onClick:N,role:"presentation",className:"select-dropdown__separator"})}var T=function(e){return e.stopPropagation()};function R(e){var t=e.children;return y.a.createElement("li",{onClick:T,role:"presentation",className:"select-dropdown__label"},y.a.createElement("label",null,t))}n("./components/select-dropdown/style.scss");var P=function(e){p()(n,e);var t=u()(n);function n(){var e;o()(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),m()(l()(e),"instanceId",++n.instances),m()(l()(e),"state",{isOpen:!1,selected:e.getInitialSelectedItem()}),m()(l()(e),"dropdownContainerRef",y.a.createRef()),m()(l()(e),"itemRefs",[]),m()(l()(e),"setItemRef",(function(t){return function(n){e.itemRefs[t]=n}})),m()(l()(e),"toggleDropdown",(function(){e.props&&e.props.disabled||e.setState({isOpen:!e.state.isOpen})})),m()(l()(e),"navigateItem",(function(t){switch(t.keyCode){case 9:e.navigateItemByTabKey(t);break;case 32:case 13:t.preventDefault(),e.activateItem();break;case 38:t.preventDefault(),e.focusSibling("previous"),e.openDropdown();break;case 40:t.preventDefault(),e.focusSibling("next"),e.openDropdown();break;case 27:t.preventDefault(),e.closeDropdown(),e.dropdownContainerRef.current.focus()}})),m()(l()(e),"handleOutsideClick",(function(t){e.dropdownContainerRef.current.contains(t.target)||e.closeDropdown()})),e}return i()(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleOutsideClick)}},{key:"componentDidUpdate",value:function(e,t){this.state.isOpen?window.addEventListener("click",this.handleOutsideClick):window.removeEventListener("click",this.handleOutsideClick),this.state.isOpen!==t.isOpen&&this.props.onToggle({target:this,open:this.state.isOpen})}},{key:"getInitialSelectedItem",value:function(){if(this.props.options.length)return this.props.initialSelected?this.props.initialSelected:Object(w.a)(Object(_.a)(this.props.options,(function(e){return e&&!e.isLabel})),"value")}},{key:"getSelectedText",value:function(){var e=this.props,t=e.options,n=e.selectedText,s=this.state.selected;return n||Object(w.a)(Object(_.a)(t,{value:s}),"label")}},{key:"getSelectedIcon",value:function(){var e=this.props,t=e.options,n=e.selectedIcon,s=this.state.selected;return n||Object(w.a)(Object(_.a)(t,{value:s}),"icon")}},{key:"dropdownOptions",value:function(){var e=this,t=0;return this.props.children?y.a.Children.map(this.props.children,(function(n){return n&&n.type===O?y.a.cloneElement(n,{ref:e.setItemRef(t++),onClick:function(t){e.dropdownContainerRef.current.focus(),"function"==typeof n.props.onClick&&n.props.onClick(t)}}):null})):this.props.options.map((function(n,s){return n?n.isLabel?y.a.createElement(R,{key:"dropdown-label-"+s},n.label):y.a.createElement(O,{key:"dropdown-item-"+n.value,ref:e.setItemRef(t++),selected:e.state.selected===n.value,onClick:e.onSelectItem(n),path:n.path,icon:n.icon},n.label):y.a.createElement(I,{key:"dropdown-separator-"+s})}))}},{key:"render",value:function(){var e=j()("select-dropdown",this.props.className,{"is-compact":this.props.compact,"is-open":this.state.isOpen&&!this.props.disabled,"is-disabled":this.props.disabled,"has-count":"number"==typeof this.props.selectedCount}),t=this.getSelectedText(),n=this.getSelectedIcon();return y.a.createElement("div",{style:this.props.style,className:e},y.a.createElement("div",{ref:this.dropdownContainerRef,className:"select-dropdown__container",onKeyDown:this.navigateItem,tabIndex:this.props.tabIndex||0,role:"button","aria-haspopup":"true","aria-owns":"select-submenu-"+this.instanceId,"aria-controls":"select-submenu-"+this.instanceId,"aria-expanded":this.state.isOpen,"aria-disabled":this.props.disabled,"data-tip-target":this.props.tipTarget,onClick:this.toggleDropdown},y.a.createElement("div",{id:"select-dropdown-"+this.instanceId,className:"select-dropdown__header"},y.a.createElement("span",{className:"select-dropdown__header-text"},n&&n.type===C.a?n:null,t),"number"==typeof this.props.selectedCount&&y.a.createElement(S.a,{count:this.props.selectedCount}),y.a.createElement(C.a,{icon:"chevron-down",size:18})),y.a.createElement("ul",{id:"select-submenu-"+this.instanceId,className:"select-dropdown__options",role:"menu","aria-labelledby":"select-dropdown-"+this.instanceId,"aria-expanded":this.state.isOpen},this.dropdownOptions())))}},{key:"openDropdown",value:function(){this.props&&this.props.disabled||this.setState({isOpen:!0})}},{key:"closeDropdown",value:function(){this.state.isOpen&&(delete this.focused,this.setState({isOpen:!1}))}},{key:"onSelectItem",value:function(e){return this.selectItem.bind(this,e)}},{key:"selectItem",value:function(e){e&&(this.props.onSelect&&this.props.onSelect(e),this.setState({selected:e.value}),this.dropdownContainerRef.current.focus())}},{key:"navigateItemByTabKey",value:function(e){if(this.state.isOpen){e.preventDefault();var t=e.shiftKey?"previous":"next";this.focusSibling(t)}}},{key:"activateItem",value:function(){if(!this.state.isOpen)return this.openDropdown();document.activeElement.click()}},{key:"focusSibling",value:function(e){var t=this;if(this.state.isOpen){var n,s;this.props.options.length?(n=Object(g.a)(this.props.options,(function(e){return e&&!e.isLabel})),s="number"==typeof this.focused?this.focused:n.findIndex((function(e){return e.value===t.state.selected}))):(n=Object(g.a)(this.props.children,(function(e){return e.type===O})),s="number"==typeof this.focused?this.focused:n.findIndex((function(e){return e.props.selected})));var o=s+("previous"===e?-1:1);o>=n.length||o<0||(this.itemRefs[o].focusLink(),this.focused=o)}}}]),n}(v.Component);m()(P,"Item",O),m()(P,"Separator",I),m()(P,"Label",R),m()(P,"propTypes",{selectedText:E.a,selectedIcon:f.a.element,selectedCount:f.a.number,initialSelected:f.a.string,className:f.a.string,style:f.a.object,onSelect:f.a.func,onToggle:f.a.func,focusSibling:f.a.func,tabIndex:f.a.number,disabled:f.a.bool,options:f.a.arrayOf(f.a.shape({value:f.a.string.isRequired,label:E.a.isRequired,path:f.a.string,icon:f.a.element}))}),m()(P,"defaultProps",{options:[],onSelect:k.a,onToggle:k.a,style:{}}),m()(P,"instances",0);t.a=P},"./components/select-dropdown/style.scss":function(e,t,n){},"./lib/after-layout-flush/index.ts":function(e,t,n){"use strict";function s(e){var t,n,s,o,a=void 0,i=void 0,r="function"==typeof requestAnimationFrame,l=(s=e,function(){if(!r){t=this;for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];n=o}void 0===a&&(a=setTimeout((function(){var e=void 0!==n?n:[],o=t;n=void 0,t=void 0,a=void 0,s.apply(o,e)}),0))});r&&(o=l,l=function(){t=this;for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];n=s,void 0===i&&(i=requestAnimationFrame((function(){i=void 0,o()})))});var c=l;return c.cancel=function(){t=void 0,n=void 0,void 0!==i&&(cancelAnimationFrame(i),i=void 0),void 0!==a&&(clearTimeout(a),a=void 0)},c}n.d(t,"a",(function(){return s}))},"./my-sites/comments/comment-navigation/comment-navigation-tab.jsx":function(e,t,n){"use strict";var s=n("../node_modules/react/index.js"),o=n.n(s),a=n("../node_modules/classnames/index.js"),i=n.n(a);t.a=function(e){var t=e.children,n=e.className;return o.a.createElement("div",{className:i()("comment-navigation__tab",n)},t)}}}]);